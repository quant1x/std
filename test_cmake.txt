cmake_minimum_required(VERSION 3.20)

project(timestamp_test VERSION 1.0.0 LANGUAGES CXX)

# C++20 standard
set(CMAKE_CXX_STANDARD 20)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

# Compile options for MinGW/Clang
if(CMAKE_CXX_COMPILER_ID MATCHES "Clang")
    add_compile_options(-finput-charset=UTF-8 -fexec-charset=UTF-8)
    add_compile_options(-Wall -Wextra -pedantic)
endif()

# Add the timestamp library
add_library(timestamp STATIC
    src/timestamp.cpp
    src/time.cpp
)

# Include directories
target_include_directories(timestamp PUBLIC src)

# Create a simple test executable
add_executable(timestamp_test_exe
    src/timestamp_test.cpp
)

target_link_libraries(timestamp_test_exe timestamp)